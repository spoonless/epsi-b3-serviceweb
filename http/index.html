

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; Documentation Services Web / API Web </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Services Web / API Web
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Recherche dans les pages" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">API Web et service Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction : Service Web et API Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_web.html">HTTP, REST et les API Web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="http.html">Le protocole HTTP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="http.html#structure-des-messages">Structure des messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#exercice">Exercice</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#les-codes-de-statut">Les codes de statut</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#les-methodes-http">Les méthodes HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#proprietes-des-methodes-http">Propriétés des méthodes HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#les-en-tetes-http">Les en-têtes HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#id2">Exercice</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="http_cas_utilisation.html">HTTP : les cas d’utilisation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#obtenir-la-representation-d-une-ressource">Obtenir la représentation d’une ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#obtenir-uniquement-les-meta-informations-d-une-ressource">Obtenir uniquement les meta-informations d’une ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#creer-une-ressource-dont-on-connait-l-uri">Créer une ressource dont on connait l’URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#creer-une-ressource-dont-on-ne-connait-pas-l-uri">Créer une ressource dont on ne connait pas l’URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#supprimer-l-acces-a-une-ressource">Supprimer l’accès à une ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#mettre-a-jour-une-ressource">Mettre à jour une ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#mettre-a-jour-partiellement-une-ressource">Mettre à jour partiellement une ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#executer-un-processus-de-traitement">Exécuter un processus de traitement</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#connaitre-les-methodes-autorisees">Connaître les méthodes autorisées</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#traitement-asynchrone-d-une-requete">Traitement asynchrone d’une requête</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_cas_utilisation.html#les-redirections">Les redirections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="http_cas_utilisation.html#evolution-du-service">Évolution du service</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_cas_utilisation.html#uri-volatile-et-canonicalisation-d-uri">URI volatile et canonicalisation d’URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_cas_utilisation.html#separer-le-traitement-de-la-requete-de-son-resultat">Séparer le traitement de la requête de son résultat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="http_negociation_contenu.html">HTTP : la négociation de contenu</a><ul>
<li class="toctree-l3"><a class="reference internal" href="http_negociation_contenu.html#la-negociation-de-type-de-contenu">La négociation de type de contenu</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_negociation_contenu.html#la-negociation-de-jeu-de-caracteres">La négociation de jeu de caractères</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_negociation_contenu.html#la-negociation-de-langue">La négociation de langue</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_negociation_contenu.html#l-en-tete-vary">L’en-tête Vary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="http_liens.html">HTTP : les liens</a><ul>
<li class="toctree-l3"><a class="reference internal" href="http_liens.html#l-en-tete-link">L’en-tête Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_liens.html#les-types-de-relation">Les types de relation</a></li>
<li class="toctree-l3"><a class="reference internal" href="http_liens.html#les-attributs-optionnels-d-un-lien">Les attributs optionnels d’un lien</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">REST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rest.html#la-ressource">La ressource</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#uri-informative-ou-uri-opaque">URI informative ou URI opaque ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#ressource-contre-rpc">Ressource contre RPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#la-representation">La représentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#les-contraintes-rest">Les contraintes REST</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest.html#client-serveur">Client/Serveur</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#interface-uniforme">Interface uniforme</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#sans-etat-stateless">Sans état (stateless)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#mise-en-cache-caching">Mise en cache (caching)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#layered-system">Layered system</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#code-on-demand">Code on demand</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#hypermedia">Hypermédia</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest.html#les-formats-hypermedias">Les formats hypermédias</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#l-en-tete-link">L’en-tête Link</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#les-apports-de-l-hypermedia">Les apports de l’hypermédia</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#rest-ca-veut-dire-quoi">REST : ça veut dire quoi ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#les-api-web">Les API Web</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#references">Références</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest.html#sites-web-articles">Sites Web &amp; articles</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#livres">Livres</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#applications-de-demo">Applications de démo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#exercices">Exercices</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spring_mvc_apiweb.html">Les API Web avec Spring MVC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#l-annotation-restcontroller">L’annotation &#64;RestController</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#support-du-format-json">Support du format JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#un-controleur-pour-une-api-web">Un contrôleur pour une API Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#l-envoi-de-donnees">L’envoi de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#la-reponse">La réponse</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#la-negociation-de-contenu">La négociation de contenu</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#les-annotations-jackson">Les annotations Jackson</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spring_mvc_apiweb.html#les-vues-json">Les vues JSON</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_services.html">Les services Web SOAP / WSDL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="java_ws.html">Les services Web avec Java</a><ul>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#la-quete-de-l-interoperabilite">La quête de l’interopérabilité</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#soap-structure-des-messages">SOAP : structure des messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#web-service-description-language-wsdl">Web Service Description Language (WSDL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#developper-un-service-web-soap">Développer un service Web SOAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#exercice">Exercice</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#les-outils-java-de-generation">Les outils Java de génération</a><ul>
<li class="toctree-l4"><a class="reference internal" href="java_ws.html#wsdl-java-contract-first">WSDL → Java (Contract first)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#consommer-un-service-web-avec-jax-ws">Consommer un service Web avec JAX-WS</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#id1">Exercice</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#implementer-des-services-web-avec-jax-ws">Implémenter des services Web avec JAX-WS</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#deployer-un-service-web-dans-un-serveur-tomcat">Déployer un service Web dans un serveur Tomcat</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#id2">Exercice</a></li>
<li class="toctree-l3"><a class="reference internal" href="java_ws.html#pour-aller-plus-loin">Pour aller plus loin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="annexe_xml.html">Annexe : XML</a><ul>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#structure-du-langage">Structure du langage</a></li>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#structure-du-document">Structure du document</a></li>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#exercice">Exercice</a></li>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#espaces-de-noms-xml">Espaces de noms XML</a></li>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#schemas-xml">Schémas XML</a></li>
<li class="toctree-l3"><a class="reference internal" href="annexe_xml.html#pour-aller-plus-loin">Pour aller plus loin…</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Services Web / API Web</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Accueil</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">API Web et service Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction : Service Web et API Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_web.html">HTTP, REST et les API Web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="http.html">Le protocole HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_cas_utilisation.html">HTTP : les cas d’utilisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_negociation_contenu.html">HTTP : la négociation de contenu</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_liens.html">HTTP : les liens</a></li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">REST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spring_mvc_apiweb.html">Les API Web avec Spring MVC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#l-annotation-restcontroller">L’annotation &#64;RestController</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#support-du-format-json">Support du format JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#un-controleur-pour-une-api-web">Un contrôleur pour une API Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#l-envoi-de-donnees">L’envoi de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#la-reponse">La réponse</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#la-negociation-de-contenu">La négociation de contenu</a></li>
<li class="toctree-l2"><a class="reference internal" href="spring_mvc_apiweb.html#les-annotations-jackson">Les annotations Jackson</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_services.html">Les services Web SOAP / WSDL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="java_ws.html">Les services Web avec Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="annexe_xml.html">Annexe : XML</a></li>
</ul>
</li>
</ul>
</div>
<div class="exercice admonition">
<p class="admonition-title">API Web pour la gestion des inscriptions</p>
<p>Utilisez le projet inscriptionapi pour développer une API Web.</p>
<blockquote>
<div><p><code class="xref download docutils literal notranslate"><span class="pre">inscriptionapi.zip</span></code></p>
</div></blockquote>
<p>La base de données peut être créée à partir du script</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/sql/inscriptiondb.sql</span></code></p>
</div></blockquote>
<p>La configuration de l’accès à la base de données se trouve dans le fichier</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/resources/jdbc.properties</span></code></p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Vous pouvez télécharger l’implémentation complète du service :</p>
<blockquote>
<div><p><code class="xref download docutils literal notranslate"><span class="pre">inscriptionapi-complet.zip</span></code></p>
</div></blockquote>
</div>
</div>
<div class="exercice admonition">
<p class="admonition-title">Exemple d’API Web pour le donjon</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>GET / HTTP/1.1
Host: donjon.com

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 200 Ok
Content-type: text/plain
Link: &lt;/salle/1/2&gt;; rel=&quot;http://donjon.com/porte&quot;; title=&quot;porte en fer&quot;
Link: &lt;/salle/1/3&gt;; rel=&quot;http://donjon.com/porte&quot;; title=&quot;porte en bois&quot;
Link: &lt;/salle/1/rendu.png&gt;; rel=&quot;alternate&quot;; type=&quot;image/png&quot;

Vous entrez dans une salle avec deux portes : une en fer et une en bois.

====================

GET /salle/1/2 HTTP/1.1
Host: donjon.com

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 200 Ok
Content-type = text/plain
Link: &lt;/salle/1/2/2325&gt;; rel=&quot;http://donjon.com/porte&quot;; title=&quot;le puits&quot;
Link: &lt;/salle/1/2/1&gt;; title=&quot;Revenir en arrière&quot;; rel=&quot;http://donjon.com/porte&quot;

Vous entrez dans une salle avec un puits au milieu

====================

GET /salle/1/2/2325 HTTP/1.1
Host: donjon.com

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 200 Ok
Content-type=text/plain
Link: &lt;/&gt;; rel=&quot;http://donjon.com/respawn&quot;; title=&quot;Recommencer l&#39;aventure&quot;

Vous dérapez, vous tombez, vous êtes mort !
</pre></div>
</div>
</div>
<div class="exercice admonition">
<p class="admonition-title">Exemple d’API Web pour le paiement en ligne</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>POST /payment HTTP/1.1
Host: bill.com
Content-type: application/json

{
    &quot;iban&quot;: &quot;2112313246546578&quot;,
    &quot;amount&quot;: 30.00,
    &quot;currency&quot;: &quot;euro&quot;
}

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 201 Created
Location: https://bill.com/transaction/123215644-131
Link: &lt;https://bill.com/transaction/123215644-131/autorisation&gt;; rel=&quot;http://bill.com/autorisation&quot;
Content-length: 0

======================

POST /transaction/123215644-131/autorisation HTTP/1.1
Host: bill.com
Content-type: application/json

{
    &quot;number&quot;: &quot;1111222233334444&quot;,
    &quot;crypto&quot;: &quot;111&quot;,
    &quot;date&quot;: &quot;01/10&quot;
}

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 201 Created
Location: https://bill.com/transaction/123215644-131/autorisation/12313215
Link: &lt;https://bill.com/transaction/123215644-131/autorisation/12313215/capture&gt;; rel=&quot;http://bill.com/capture&quot;
Content-length: 0

======================

POST /transaction/123215644-131/autorisation/12313215/capture HTTP/1.1
Host: bill.com

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 201 Created
Location: https://bill.com/transaction/123215644-131/autorisation/12313215/capture/121212
</pre></div>
</div>
<p>Le cas d’une autorisation qui échoue à cause d’une carte volée :</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>POST /transaction/123215644-131/autorisation HTTP/1.1
Host: bill.com
Content-type: application/json

{
    &quot;number&quot;: &quot;1111222233334444&quot;,
    &quot;crypto&quot;: &quot;111&quot;,
    &quot;date&quot;: &quot;01/10&quot;
}

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;

HTTP/1.1 400 Bad request
Content-type: text/plain

Votre carte est volée. Merci de vous rendre au poste de police le plus proche.
</pre></div>
</div>
</div>
<div class="exercice admonition">
<p class="admonition-title">TP - API Web de taux de change</p>
<p>On veut mettre en place un service de taux de change pour la conversion
entre des devises étrangères l’Euro.</p>
<p>Il existe deux types de client pour cette API Web. Un type de client
fournit plusieurs fois par jour le taux de change d’une monnaie vers
l’Euro. Un autre type de client transmet un montant
dans une monnaie afin d’obtenir la conversion en euros.</p>
<p>Les fonctionnalités attendues sont :</p>
<ul class="simple">
<li><p>créer ou mettre à jour une monnaie avec son taux de change</p></li>
<li><p>consulter la monnaie avec son taux de change</p></li>
<li><p>supprimer une monnaie</p></li>
<li><p>convertir un montant d’une monnaie en euros</p></li>
</ul>
<p>Vous devez implémenter l’API Web en respectant les contraintes suivantes :</p>
<ul class="simple">
<li><p>une monnaie doit être une ressource</p></li>
<li><p>vous devez utiliser le principe de l’hypermédia lorsque cela est utile</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>La norme ISO-4217 définit un code pour chaque monnaie :</p>
<blockquote>
<div><p><a class="reference external" href="https://fr.wikipedia.org/wiki/ISO_4217">https://fr.wikipedia.org/wiki/ISO_4217</a></p>
</div></blockquote>
</div>
<p><strong>Livrables attendus</strong></p>
<blockquote>
<div><p>Vous devez rendre le projet complet ainsi que <strong>des exemples de requêtes</strong>
pour montrer l’utilisation de votre API Web.</p>
</div></blockquote>
<p><strong>Modèle de projet</strong></p>
<blockquote>
<div><blockquote>
<div><p><code class="xref download docutils literal notranslate"><span class="pre">rest-monnaie.zip</span></code></p>
</div></blockquote>
<p>Vous devez partir du modèle de projet ci-dessus pour réaliser l’API Web.</p>
<p>La base de données peut être créée à partir du script</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/sql/monnaiedb.sql</span></code></p>
</div></blockquote>
<p>La configuration de l’accès à la base de données se trouve dans le fichier</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/resources/jdbc.properties</span></code></p>
</div></blockquote>
</div></blockquote>
</div>
<div class="exercice admonition">
<p class="admonition-title">TP - Service Web de taux de change</p>
<p>On veut mettre en place un service de taux de change pour la conversion
entre des devises étrangères l’Euro.</p>
<p>Il existe deux types de client pour ce service Web. Un type de client
fournit plusieurs fois par jour le taux de change d’une monnaie vers
l’Euro. Un autre type de client transmet un montant
dans une monnaie afin d’obtenir la conversion en euros.</p>
<p>Les opérations attendues pour ce service sont :</p>
<ul class="simple">
<li><p>créer ou mettre à jour une monnaie avec son taux de change</p></li>
<li><p>consulter la monnaie avec son taux de change</p></li>
<li><p>supprimer une monnaie</p></li>
<li><p>convertir un montant d’une monnaie en euros</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>La norme ISO-4217 définit un code pour chaque monnaie :</p>
<blockquote>
<div><p><a class="reference external" href="https://fr.wikipedia.org/wiki/ISO_4217">https://fr.wikipedia.org/wiki/ISO_4217</a></p>
</div></blockquote>
</div>
<p><strong>Livrables attendus</strong></p>
<blockquote>
<div><p>Vous devez rendre le projet complet. Il doit contenir <strong>l’application Web</strong>
ainsi qu’un <strong>programme client Java d’exemple</strong>. Ce programme doit
appeler chaque opération du service pour montrer leur bon fonctionnement.</p>
</div></blockquote>
<p><strong>Modèle de projet</strong></p>
<blockquote>
<div><blockquote>
<div><p><code class="xref download docutils literal notranslate"><span class="pre">ws-monnaie.zip</span></code></p>
</div></blockquote>
<p>Vous devez partir du modèle de projet ci-dessus pour réaliser l’API Web.
Ce projet utilise à la fois l’implémentation de référence JAX-WS
de Sun ainsi que le Spring Framework. Pour une intégration des deux
<em>frameworks</em>, le projet fournit l’annotation <code class="docutils literal notranslate"><span class="pre">&#64;WebServiceController</span></code>.
Cette annotation doit être ajoutée sur vos classes Java qui portent
l’annotation <code class="docutils literal notranslate"><span class="pre">&#64;WebService</span></code> afin de les transformer en composants Spring.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Exemple d’utilisation de l’annotation &#64;WebServiceController</span><a class="headerlink" href="#id1" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">fr.epsi.b3.monnaie.webservice</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.jws.WebService</span><span class="o">;</span>

<span class="nd">@WebServiceController</span>
<span class="nd">@WebService</span><span class="o">(</span><span class="n">endpointInterface</span><span class="o">=</span><span class="s">&quot;fr.epsi.b3.monnaie.webservice.MonnaieService&quot;</span><span class="o">,</span>
            <span class="n">targetNamespace</span><span class="o">=</span><span class="s">&quot;http://epsi.fr/b3/ws/monnaie&quot;</span><span class="o">,</span>
            <span class="n">serviceName</span><span class="o">=</span><span class="s">&quot;MonnaieService&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MonnaieServiceImpl</span> <span class="kd">implements</span> <span class="n">MonnaieService</span> <span class="o">{</span>

    <span class="c1">// ....</span>

<span class="o">}</span>
</pre></div>
</div>
</div>
<p>Grâce à cette annotation, votre classe de service pourra bénéficier
de l’injection de dépendance par Spring.</p>
<p>La base de données peut être créée à partir du script</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/sql/monnaiedb.sql</span></code></p>
</div></blockquote>
<p>La configuration de l’accès à la base de données se trouve dans le fichier</p>
<blockquote>
<div><p><code class="file docutils literal notranslate"><span class="pre">src/main/resources/jdbc.properties</span></code></p>
</div></blockquote>
</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright David Gayerie - david.gayerie@reseau-cd.net - CC-BY-SA

    </p>
  </div>
    <div>Téléchargez ce support au format <a class="reference download" href="https://github.com/spoonless/epsi-b3-serviceweb/archive/gh-pages.zip">HTML</a>
    </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>